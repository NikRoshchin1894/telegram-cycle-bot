# üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ü–æ–º–æ—â—å" –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–Ω–æ–ø–æ–∫

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **–£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ü–æ–º–æ—â—å"**
- **–ì–ª–∞–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞**: –£–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üÜò –ü–æ–º–æ—â—å"
- **Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞**: –£–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üÜò –ü–æ–º–æ—â—å"
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫**: –£–¥–∞–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ü–æ–º–æ—â—å"
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∏ –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–Ω–æ–ø–æ–∫ "–ú–æ–π —Ü–∏–∫–ª" –∏ "–û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É"**
- **–ö–Ω–æ–ø–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–≠–º—É–ª—è—Ü–∏—è –∫–æ–º–∞–Ω–¥**: –ö–Ω–æ–ø–∫–∏ —ç–º—É–ª–∏—Ä—É—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Å –¥–∞—Ç–∞–º–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≥–ª–∞–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞:**
```javascript
const mainKeyboard = {
  reply_markup: {
    keyboard: [
      [{ text: 'üìä –ú–æ–π —Ü–∏–∫–ª' }, { text: 'üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É' }]
    ],
    resize_keyboard: true,
    one_time_keyboard: false
  }
};
```

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞:**
```javascript
const inlineKeyboard = {
  reply_markup: {
    inline_keyboard: [
      [
        { text: 'üìä –ú–æ–π —Ü–∏–∫–ª', callback_data: 'mycycle' },
        { text: 'üîÑ –û–±–Ω–æ–≤–∏—Ç—å', callback_data: 'updatecycle' }
      ]
    ]
  }
};
```

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:**
```javascript
bot.onText(/^(üìä –ú–æ–π —Ü–∏–∫–ª|üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É)$/, async (msg) => {
  const chatId = msg.chat.id;
  const text = msg.text;

  if (text === 'üìä –ú–æ–π —Ü–∏–∫–ª') {
    // –≠–º—É–ª–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—É /mycycle
    msg.text = '/mycycle';
    bot.emit('message', msg);
    return;
  }
  
  if (text === 'üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É') {
    // –≠–º—É–ª–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—É /updatecycle
    msg.text = '/updatecycle';
    bot.emit('message', msg);
    return;
  }
});
```

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –¥–∞—Ç–∞–º–∏:**
```javascript
// –ë—ã–ª–æ:
${user.lastCycleDate.toLocaleDateString('ru-RU')}

// –°—Ç–∞–ª–æ:
${new Date(user.lastCycleDate).toLocaleDateString('ru-RU')}
```

## üéØ –ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### **–ì–ª–∞–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞:**
```
[üìä –ú–æ–π —Ü–∏–∫–ª] [üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É]
```

### **Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞:**
```
[üìä –ú–æ–π —Ü–∏–∫–ª] [üîÑ –û–±–Ω–æ–≤–∏—Ç—å]
```

## üéÆ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫

### **–ö–Ω–æ–ø–∫–∞ "üìä –ú–æ–π —Ü–∏–∫–ª":**
1. **–§—É–Ω–∫—Ü–∏—è**: –≠–º—É–ª–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É `/mycycle`
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —Ü–∏–∫–ª–µ
3. **–î–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–∏–∫–ª–µ
4. **–î–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö**: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/start`

### **–ö–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É":**
1. **–§—É–Ω–∫—Ü–∏—è**: –≠–º—É–ª–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É `/updatecycle`
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞—Ç—ã
3. **–î–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –≤–≤–æ–¥–∞ –¥–∞—Ç—ã
4. **–î–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö**: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/start`

## üö´ –£–¥–∞–ª–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### **–£–¥–∞–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üÜò –ü–æ–º–æ—â—å":**
- ‚ùå –£–±—Ä–∞–Ω–∞ –∏–∑ –≥–ª–∞–≤–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- ‚ùå –£–±—Ä–∞–Ω–∞ –∏–∑ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- ‚ùå –£–¥–∞–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ callback 'help'
- ‚ùå –£–±—Ä–∞–Ω–∞ –∏–∑ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

### **–£–¥–∞–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
```javascript
// –£–¥–∞–ª–µ–Ω–æ:
case 'help':
  // –ü–æ–∫–∞–∑ —Å–ø—Ä–∞–≤–∫–∏
  break;
```

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### **–û—à–∏–±–∫–∞ —Å –¥–∞—Ç–∞–º–∏:**
- **–ü—Ä–æ–±–ª–µ–º–∞**: `TypeError: user.lastCycleDate.toLocaleDateString is not a function`
- **–ü—Ä–∏—á–∏–Ω–∞**: `lastCycleDate` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –æ–±—ä–µ–∫—Ç Date: `new Date(user.lastCycleDate)`
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–æ**: –í–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:**
```javascript
// –ë—ã–ª–æ:
bot.onText(/^(?!\/)(?!üìä|üîÑ|üÜò).*$/, async (msg) => {

// –°—Ç–∞–ª–æ:
bot.onText(/^(?!\/)(?!üìä|üîÑ).*$/, async (msg) => {
```

## üé® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
- ‚úÖ **–ú–µ–Ω—å—à–µ –∫–Ω–æ–ø–æ–∫** - –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ **–§–æ–∫—É—Å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º** - —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** - –º–µ–Ω—å—à–µ –æ—Ç–≤–ª–µ–∫–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–Ω–æ–ø–∫–∏** - –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–≠–º—É–ª—è—Ü–∏—è –∫–æ–º–∞–Ω–¥** - –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:**
- ‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

### **–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- ‚ùå –ö–Ω–æ–ø–∫–∞ "–ü–æ–º–æ—â—å" –∑–∞–Ω–∏–º–∞–ª–∞ –º–µ—Å—Ç–æ
- ‚ùå –ö–Ω–æ–ø–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚ùå –û—à–∏–±–∫–∏ —Å –¥–∞—Ç–∞–º–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ

### **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- ‚úÖ –ß–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ "–ú–æ–π —Ü–∏–∫–ª" –∏ "–û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É"
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏ —Å –¥–∞—Ç–∞–º–∏
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞–ª –ø—Ä–æ—â–µ, —á–∏—â–µ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º!
